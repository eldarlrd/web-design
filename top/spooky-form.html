<!doctype html>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <meta content='Halloween Signup Form' name='description'>
  <meta content='halloween, signup, form' name='keywords'>
  <meta content='Eldar Pashazade' name='author'>
  <meta content='#fff' name='theme-color'>

  <meta content='website' property='og:type'>
  <meta content='Spooky Form' property='og:title'>
  <meta content='Halloween Signup Form' property='og:description'>
  <meta content='https://eldarlrd.github.io/web-design/top/spooky-form.html' property='og:url'>

  <link crossorigin='anonymous' href='https://cdn.jsdelivr.net'
        rel='preconnect' type='text/html'>
  <link crossorigin='anonymous' href='https://kit.fontawesome.com'
        rel='preconnect' type='text/xml'>

  <link as='style' href='https://cdn.jsdelivr.net/npm/modern-normalize@3.0.1/modern-normalize.min.css'
        onload="this.onload=null;this.rel='stylesheet'"
        rel='preload'
        type='text/css'>

  <link href='styles/spooky-form-styles.css' rel='stylesheet' type='text/css'>
  <link href='assets/favicons/pumpkin.png' rel='icon' sizes='512x512' type='image/png'>
  <script crossorigin='anonymous' defer
          src='https://kit.fontawesome.com/0db9b2eb32.js' type='text/javascript'></script>
  <title>Spooky Form</title>
</head>

<body>
  <div id='banner'>
    <aside>
      <div>
        <img
          alt='Pumpkin'
          src='assets/logos/pumpkin-face.png'
        >
      </div>
    </aside>
  </div>

  <div id='content'>
  <header>
    <h1>Spooky Sign Up Form</h1>
    <h2>Once you sign up, there's no going back...</h2>
    <p>
      Behold the very last form you shall ever fill out.
      7 days after signing up, pick up the phone and face your destiny.
      <em>(and other such threats)</em>
    </p>
    <p>Go ahead, but don't say we didn't warn you!</p>
  </header>

  <form>
  <main>
    <span>
      <label for='first-name'>First Name</label>
      <input
        name='first-name'
        type='text'
        minlength='2'
        maxlength='16'
        pattern='[a-zA-Z]+'
        placeholder='Stephen'
        required
      >
    </span>
    <span>
      <label for='last-name'>Last Name</label>
      <input
        name='last-name'
        type='text'
        minlength='2'
        maxlength='16'
        pattern='[a-zA-Z]+'
        placeholder='King'
        required
      >
    </span>
    <span>
      <label for='email'>Email</label>
      <input
        name='email'
        type='email'
        maxlength='64'
        placeholder='sking@mail.com'
        required
      >
    </span>
    <span>
      <label for='phone'>Phone Number</label>
      <input
        name='phone'
        type='tel'
        minlength='9'
        maxlength='18'
        pattern='^(\+?\d{1,3}\s?)?(\(\d{2,3}\)|\d{2,3})[\s\-]?\d{3}[\s\-]?\d{2}[\s\-]?\d{2}$'
        placeholder='+1 800-555-0100'
        required
      >
    </span>
    <span>
      <label for='password'>Password</label>
      <input
        id='pass'
        name='password'
        type='password'
        minlength='8'
        maxlength='32'
        pattern='^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%&?|^*_=+-]).{8,32}$'
        autocomplete='current-password'
        required
      >
    </span>
    <span>
      <label for='repeat-password'>Repeat Password</label>
      <input
        id='repeat'
        name='repeat-password'
        type='password'
        minlength='8'
        maxlength='32'
        pattern='^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%&?|^*_=+-]).{8,32}$'
        autocomplete='current-password'
        required
      >
      <p id='error'>Passwords do not match</p>
    </span>
  </main>

  <section>
    <input id='submit' type='submit' value='Sacrifice'>
    <span>
      <p>Already offered a sacrifice?</p>
      <a>Redeem</a>
    </span>
  </section>
  </form>

  <footer>
    <img src='assets/icons/skull.svg' alt='Skull'>
    <p>by <a href='https://github.com/eldarlrd'
             target='_blank'
             rel='noreferrer'>
             eldarlrd
          </a>
    </p>
  </footer>
  </div>
</body>

<script>
  const passwordInput = document.getElementById('pass');
  const repeatInput = document.getElementById('repeat');
  const error = document.getElementById('error');
  const submit = document.getElementById('submit');

  const matchSuccess = () => {
    submit.disabled = false;
    error.classList.remove('visible');
    repeatInput.classList.remove('error-border');
  }
  const matchFail = () => {
    submit.disabled = true;
    error.classList.add('visible');
    repeatInput.classList.add('error-border');
  }
  const passCheck = () => {
    passwordInput.value === repeatInput.value
      ? matchSuccess()
      : matchFail()
  }

  repeatInput.addEventListener('input', passCheck);
</script>
</html>
